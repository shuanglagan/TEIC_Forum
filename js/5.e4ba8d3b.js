(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{"713b":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-layout",{staticClass:"bg-teic text-teic 100vw",attrs:{view:"lHh Lpr lFf",reveal:"",elevated:""}},[r("q-header"),r("q-page-container",[r("div",{staticClass:"container"},[r("q-fab",{staticClass:"q-pt-lg",attrs:{"vertical-actions-align":"left",color:"blue-8","hide-icon":"",direction:"right",label:"Menu"}},[e.user.islogin?e._e():r("q-fab-action",{attrs:{color:"secondary",to:"/map",icon:"",label:"網站地圖"}}),e.user.islogin?e._e():r("q-fab-action",{attrs:{color:"deep-orange-12",to:"/register",icon:"login",label:"註冊"}}),e.user.islogin?e._e():r("q-fab-action",{attrs:{color:"red-3",to:"/login",icon:"login",label:"登入"}}),e.user.islogin?e._e():r("q-fab-action",{attrs:{color:"purple-5",to:"/",label:"回首頁"}}),e.user.islogin?r("q-fab-action",{attrs:{color:"light-blue-12",to:"/",label:"回首頁"}}):e._e(),e.user.islogin?r("q-fab-action",{attrs:{color:"cyan-8",to:"/posts_new",label:"新貼文"}}):e._e(),e.user.islogin?r("q-fab-action",{attrs:{color:"green-8",to:"/posts_my",label:"文章列表"}}):e._e(),e.user.islogin?r("q-fab-action",{attrs:{color:"lime-8",to:"/posts_follows",label:"追蹤列表"}}):e._e(),e.user.islogin?r("q-fab-action",{attrs:{color:"deep-orange-3",label:"登出"},on:{click:e.logout}}):e._e(),e.user.islogin&&e.user.isAdmin?r("q-fab-action",{attrs:{color:"accent",to:"/user/admin",label:"後臺管理"}}):e._e()],1),r("brbrbrbrbr"),r("vue-page-transition",{attrs:{name:"fade-in-down"}},[r("router-view")],1)],1)])],1)},o=[],n=r("c973"),s=r.n(n),i=(r("96cf"),{name:"App",title:"Index Page",methods:{logout:function(){var e=this;return s()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.axios.delete("/users/logout",{headers:{authorization:"Bearer "+e.$store.state.jwt.token}});case 3:e.$store.commit("logout"),"/"!==e.$route.path&&e.$router.push("/"),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),e.$swal({icon:"error",title:"錯誤",text:"發生錯誤"});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()}},mounted:function(){var e=this;return s()(regeneratorRuntime.mark((function t(){var r,a,o,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!==e.$store.state.jwt.token.length){t.next=2;break}return t.abrupt("return");case 2:if(r=Date.now()-e.$store.state.jwt.received,t.prev=3,!(r>5184e5)){t.next=10;break}return t.next=7,e.axios.post("/users/extend",{},{headers:{authorization:"Bearer "+e.$store.state.jwt.token}});case 7:a=t.sent,o=a.data,e.$store.commit("extend",o.result);case 10:return t.next=12,e.axios.get("/users/",{headers:{authorization:"Bearer "+e.$store.state.jwt.token}});case 12:n=t.sent,s=n.data,e.$store.commit("getinfo",s.result),t.next=20;break;case 17:t.prev=17,t.t0=t["catch"](3),e.$store.commit("logout");case 20:case"end":return t.stop()}}),t,null,[[3,17]])})))()}}),l=i,c=r("2877"),u=r("4d5a"),b=r("e359"),g=r("09e3"),p=r("c294"),d=r("72db"),f=r("eebe"),h=r.n(f),m=Object(c["a"])(l,a,o,!1,null,null,null);t["default"]=m.exports;h()(m,"components",{QLayout:u["a"],QHeader:b["a"],QPageContainer:g["a"],QFab:p["a"],QFabAction:d["a"]})}}]);